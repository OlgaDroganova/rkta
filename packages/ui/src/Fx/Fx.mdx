---
menu: UI / Hooks
name: useFx
---

import { useState } from 'react';
import { Link, Playground, Props } from 'docz';
import { Addon, Button, List, ListItem, ListTitle, Text } from '../';
import useFx from './useFx';
import Cross from '../../../entypo/src/Cross';

# useFx

`useFx` allows you to apply various effects

## Use

```
import { useFx } from '@rkta/ui';
...

const FxComponent = () => {
    const onPopUp = () => console.log('pop up!');
    const [fx, addEffect] = useFx(['popUp'], { onPopUp });
    return (
      <div {...fx}>
        Hi, I have FX.
        <buttton onClick={() => addEffect('fadeDown')}>
          Hide me
        </button>
      </div>
    );
}
```

Note, `useFx` only working with rkta components.

## Example

<Playground>
  {() => {
    const Popover = ({ children, css, onAnimationEnd, noMemoize, onClose }) => (
      <List
        bgColor="text"
        color="paper"
        rize={1}
        css={css}
        onAnimationEnd={onAnimationEnd}
        noMemoize={noMemoize}
        style={{
          position: 'fixed',
          bottom: 50,
          right: 16,
          width: 320,
          zIndex: 1000,
        }}
      >
        <ListTitle color="error" fitAll>
          <Addon main>Error!</Addon>
          <Addon>
            <Button onClick={onClose} noMemoize round type="button" transparent color="paper">
              <Cross color="paper" />
            </Button>
          </Addon>
        </ListTitle>
        <ListItem>{children}</ListItem>
      </List>
    );

    const [error, setError] = useState(null);
    const onFadeDown = () => setError(null);
    const [popoverProps, addEffect] = useFx([], { onFadeDown });
    return (
      <>
        <button
          onClick={() => {
            setError(new Error("Error message"));
            if (!error) addEffect('popUp');
          }}
        >
          Toggle FX
        </button>
        {error && (
          <Popover {...popoverProps} onClose={() => addEffect('fadeDown')}>
            {error.message}
          </Popover>
        )}
      </>
    );

}}

</Playground>
