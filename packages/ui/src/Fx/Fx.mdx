---
menu: UI / Hooks
name: useFx
---

import { useState } from 'react';
import { Link, Playground, Props } from 'docz';
import { Paper, Text } from '../';
import useFx from './useFx';

# useFx

`useFx` allows you to apply various effects

## Use

```
import { useFx } from '@rkta/ui';
...

const MyFunctionComponent = () => {
    const [error, setError] = useState(null);

    const onFadeDown = () => setError(null);
    const [popoverProps, addEffect] = useFx([], { onFadeDown });

    return (
      <>
        <button
          onClick={() => {
            setError(new Error("Error message"));
            if (!error) addEffect('popUp');
          }}
        >
          Open popover window
        </button>
        {error && (
          <Popover {...popoverProps} onClose={() => addEffect('fadeDown')}>
            {error.message}
          </Popover>
        )}
      </>
    );
}
```

Note, `useFx` only working with rkta components.

## Example

<Playground>
  {() => {
    const Popover = ({ children, css, onAnimationEnd, noMemoize, onClose }) => (
      <Paper
        bgColor="warning"
        color="paper"
        rize={1}
        css={css}
        onAnimationEnd={onAnimationEnd}
        noMemoize={noMemoize}
        style={{
          padding: 24,
          paddingTop: 48,
          position: 'fixed',
          bottom: 50,
          right: 16,
          width: 500,
          zIndex: 1000,
        }}
      >
        <button onClick={onClose} style={{ position: 'absolute', top: 8, right: 8 }} type="button">
          Close
        </button>
        <Text h6>{children}</Text>
      </Paper>
    );

    const [error, setError] = useState(null);
    const onFadeDown = () => setError(null);
    const [popoverProps, addEffect] = useFx([], { onFadeDown });
    return (
      <>
        <button
          onClick={() => {
            setError(new Error("Error message"));
            if (!error) addEffect('popUp');
          }}
        >
          Open popover window
        </button>
        {error && (
          <Popover {...popoverProps} onClose={() => addEffect('fadeDown')}>
            {error.message}
          </Popover>
        )}
      </>
    );

}}

</Playground>
